digraph restalk { 

 rankdir=LR;



subgraph "s1" {
node [shape=box]
node [ style=rounded, shape=box, label = "<s1> GET /api/s1/method1" ] "s1m1"
limits_s1m1 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s1m1 -> limits_s1m1[ style=dashed, color=black, penwidth=0.5 ];
node [ style=rounded, shape=box, label = "<s1> GET /api/s1/method2" ] "s1m2"
limits_s1m2 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s1m2 -> limits_s1m2[ style=dashed, color=black, penwidth=0.5 ];
}



subgraph "s2" {
node [shape=box]
node [ style=rounded, shape=box, label = "<s2> GET /api/s2/method1" ] "s2m1"
limits_s2m1 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s2m1 -> limits_s2m1[ style=dashed, color=black, penwidth=0.5 ];
node [ style=rounded, shape=box, label = "<s2> GET /api/s2/method2" ] "s2m2"
limits_s2m2 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s2m2 -> limits_s2m2[ style=dashed, color=black, penwidth=0.5 ];
}



subgraph "s3" {
node [shape=box]
node [ style=rounded, shape=box, label = "<s3> GET /api/s3/method1" ] "s3m1"
limits_s3m1 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s3m1 -> limits_s3m1[ style=dashed, color=black, penwidth=0.5 ];
node [ style=rounded, shape=box, label = "<s3> GET /api/s3/method2" ] "s3m2"
limits_s3m2 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s3m2 -> limits_s3m2[ style=dashed, color=black, penwidth=0.5 ];
}



subgraph "s4" {
node [shape=box]
node [ style=rounded, shape=box, label = "<s4> GET /api/s4/method1" ] "s4m1"
limits_s4m1 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s4m1 -> limits_s4m1[ style=dashed, color=black, penwidth=0.5 ];
node [ style=rounded, shape=box, label = "<s4> GET /api/s4/method2" ] "s4m2"
limits_s4m2 [shape=note, style=filled, fillcolor="#F1D991" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td></td>
<td><b>Usage limitations</b></td>
</tr>
<tr>
<td><b>Quota</b></td>
<td>100 req weekly</td>
</tr>
<tr>
<td><b>Rate</b></td>
<td>1 req secondly</td>
</tr>
</table>
>];
s4m2 -> limits_s4m2[ style=dashed, color=black, penwidth=0.5 ];
}

params [shape=note, style=filled, fillcolor="#F0F8FF" label=<
<table border="0" cellborder="1" cellpadding="2" cellspacing="0">
<tr>
<td><b>Param name</b></td><td><b>Param value</b></td>
</tr>
<tr>
<td><b>param1</b></td>
<td>1</td>
</tr>
<tr>
<td><b>param2</b></td>
<td>1</td>
</tr>
<tr>
<td><b>param3</b></td>
<td>1</td>
</tr>
</table>
>];
node [ style="rounded,filled", fillcolor="#E6E6E6", shape=circle, xlabel = "max_value" ] "boundary";
s1m1 -> s2m1 [ color=red, penwidth=2.0, label="[R=1]" ];
boundary -> s1m1 [ color=grey, penwidth=2.0, label="[R=30]" ];
s1m2 -> s3m1 [ color=red, penwidth=2.0, label="[R=1]" ];
s1m2 -> s3m2 [ color=red, penwidth=2.0, label="[R=1]" ];
s1m2 -> s2m1 [ color=red, penwidth=2.0, label="[R=1]" ];
boundary -> s1m2 [ color=grey, penwidth=2.0, label="[R=5]" ];


}